(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},142:function(e,t,n){e.exports=n(259)},147:function(e,t,n){},149:function(e,t,n){},159:function(e,t){},161:function(e,t){},259:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(6),r=n.n(o),s=(n(147),n(117)),l=n(118),c=n(139),u=n(119),h=n(140),d=n(120),m=n.n(d),f=(n(149),n(138)),p=n(122),v=n.n(p),g=n(123),w=n.n(g),y=n(261),b=n(116),k=n(124),E=n.n(k),F=n(154),O=n(258).fromEvent,j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={tree:null,data:[]},e.zip=new F,e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onDrop",value:function(e){y.a.info({title:"This is a notification message",content:i.a.createElement("div",null,i.a.createElement("p",null,"some messages...some messages..."),i.a.createElement("p",null,"some messages...some messages...")),onOk:function(){}}),this.parseTreeView(e)}},{key:"submitFiles",value:function(){var e=[];console.log(this.state.data),this.zip=new F,this.getLeaves(e,this.state.data),this.zipFile(e)}},{key:"zipFile",value:function(e){var t=this;e.map(function(e){var n=t.getListFolders(t.getFolderPath(e)),a=t.zip;n.map(function(e){a=a.folder(e)}),a.file(e.name,e)}),this.zip.generateAsync({type:"blob"}).then(function(e){v()(e,"example.zip")})}},{key:"parseTreeView",value:function(e){var t=this,n=[];return e.map(function(e){var a=t.getListFolders(t.getFolderPath(e)),i={id:e.preview,text:e.name,isLeaf:!0,data:e};t.build(n,a,i)}),this.setState({data:n}),n}},{key:"build",value:function(e,t,n){if(Array.isArray(t)&&1===t.length){var a=this.getDirectoryObj(e,t[0]);null===a?e.push({id:t[0],text:t[0],children:[n]}):"children"in a?a.children.push(n):a.children=[n]}else{var i=t.shift(),o=this.getDirectoryObj(e,i);null===o&&(o={id:t.join()+","+i,text:i,children:[]},e.push(o)),this.build(o.children,t,n)}}},{key:"getDirectoryObj",value:function(e,t){var n=e.filter(function(e){return e.text===t});return n.length>0?n[0]:null}},{key:"getFolderPath",value:function(e){var t=e.name;return e.path.replace(t,"")}},{key:"getListFolders",value:function(e){return e.split("/").filter(function(e){return e.length>0})}},{key:"onActionButtonClick",value:function(e,t){var n=t.type.name,a=this.refs.treeview.api;switch(n){case"FaTrashO":e&&a.removeItem(e.id)}}},{key:"getLeaves",value:function(e,t){var n=this;t.forEach(function(t){t.isLeaf?e.push(t.data):n.getLeaves(e,t.children)})}},{key:"render",value:function(){var e=[i.a.createElement(E.a,{size:"15",color:"#ff704d"})];return i.a.createElement("div",{className:"App"},i.a.createElement("header",null,i.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"})),i.a.createElement("div",{className:"dropzone"},i.a.createElement(f.a,{getDataTransferItems:function(e){return O(e)},onDrop:this.onDrop.bind(this)},i.a.createElement("p",null,"Drop a folder with files here."))),i.a.createElement("aside",null,i.a.createElement(w.a,{items:this.state.data,ref:"treeview",selectRow:!0,actionButtons:e,onActionButtonClick:this.onActionButtonClick.bind(this)})),i.a.createElement(b.a,{onClick:this.submitFiles.bind(this)},"Submit"))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,2,1]]]);
//# sourceMappingURL=main.83321560.chunk.js.map